<div class="layout">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">
      <div class="brand-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="icon">
          <path
            d="M21 8.5V16a2 2 0 0 1-1 1.73l-7 4a2 2 0 0 1-2 0l-7-4A2 2 0 0 1 3 16V8.5"
            fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
          />
          <path
            d="M3.3 7.2 12 12l8.7-4.8M12 12v9.5"
            fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
          />
        </svg>
      </div>
      <div class="brand-text">
        <div class="brand-title">Inventario</div>
        <div class="brand-sub">Sistema de Gestión</div>
      </div>
    </div>

    <div class="menu-title">Menú Principal</div>

    <nav class="nav">
      <a class="nav-item active" routerLink="/dashboard">Dashboard</a>
      <a class="nav-item" routerLink="/productos">Productos</a>
      <a class="nav-item" routerLink="/categorias">Categorías</a>
      <a class="nav-item" routerLink="/proveedores">Proveedores</a>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-btn" (click)="logout()">
        <span class="logout-icon">↪</span>
        Cerrar Sesión
      </button>
      <div class="copyright">© 2026 Sistema de Inventario</div>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <!-- TOPBAR -->
    <header class="topbar">
      <button class="burger" type="button" aria-label="Abrir menú">☰</button>
      <div class="topbar-title">Dashboard</div>
      <div class="spacer"></div>
      <button class="logout-btn-mobile" (click)="logout()">
        <span class="logout-icon">↪</span>
        Salir
      </button>
    </header>

    <!-- CONTENT -->
    <section class="content">
      <div class="content-inner">
        <div class="page-head">
          <h1>Dashboard</h1>
          <p>Resumen general del inventario</p>
        </div>

        <!-- KPIs -->
        <div class="kpi-grid">
          <!-- Total Productos -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Total Productos</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">{{ totalProducts }}</div>
            <div class="kpi-sub">Productos activos</div>
          </div>

          <!-- Valor de Compra -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Valor de Compra</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">${{ totalCompra | number:'1.2-2' }}</div>
            <div class="kpi-sub">Inversión total</div>
          </div>

          <!-- Valor de Venta -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Valor de Venta</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">${{ totalVenta | number:'1.2-2' }}</div>
            <div class="kpi-sub kpi-up">Ganancia: ${{ potentialProfit | number:'1.2-2' }}</div>
          </div>

          <!-- Stock Total -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Stock Total</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">{{ totalStock }}</div>
            <div class="kpi-sub">Unidades en inventario</div>
          </div>

          <!-- Categorías -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Categorías</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">{{ totalCategorias }}</div>
            <div class="kpi-sub">Categorías activas</div>
          </div>

          <!-- Proveedores -->
          <div class="card">
            <div class="card-head">
              <div class="card-title">Proveedores</div>
              <div class="card-ico"></div>
            </div>
            <div class="kpi-value">{{ totalProveedores }}</div>
            <div class="kpi-sub">Proveedores activos</div>
          </div>
        </div>

        <!-- Espacio inferior -->
        <div style="height: 20px;"></div>
      </div>
    </section>
  </main>
</div>